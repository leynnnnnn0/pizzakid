import{a as Te,r as m,j as s,c as _e,u as Be,b as Fe,t as se,H as Ie}from"./app-Ba4d6rCd.js";import{M as He}from"./module-heading-D31oMzSJ.js";import{u as Ce,a as Se,B as he}from"./button-dMRG19ot.js";import{A as Me}from"./app-layout-ipu3mMPY.js";import{D as Le,a as ze,d as Oe,e as Ue}from"./dialog-CGw02_NU.js";import{I as xe}from"./input-opBXYhDi.js";import{L as te}from"./label-CwGuyUzn.js";import{T as $e}from"./textarea-Caach5KG.js";import{c as qe,u as We,a as Xe,b as Ge}from"./index-Cf2fSJWP.js";import{u as Je}from"./index-DksR2VPn.js";import{P as Ne}from"./index-OC2LAvsO.js";import{A as Ke,a as Qe,b as Ve,c as Ye,f as Ze,d as et,e as tt,g as st}from"./alert-dialog-B_DM-OCe.js";import{P as rt}from"./plus-ClN_NI_0.js";/* empty css            */import"./index-DiFA_FFC.js";import"./x-DlV_Btg_.js";import"./index-CgcIjQEf.js";import"./dropdown-menu-C5be6SWB.js";import"./index-D6b3eXot.js";import"./mainLogo-CSczizqJ.js";import"./store-C0AFMDdO.js";import"./ticket-BfdN1T4w.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],lt=Te("Pencil",at);var ge="Switch",[ot,Mt]=qe(ge),[it,nt]=ot(ge),De=m.forwardRef((n,e)=>{const{__scopeSwitch:o,name:i,checked:l,defaultChecked:a,required:c,disabled:d,value:u="on",onCheckedChange:h,form:f,...x}=n,[p,t]=m.useState(null),g=Ce(e,j=>t(j)),v=m.useRef(!1),w=p?f||!!p.closest("form"):!0,[b,y]=We({prop:l,defaultProp:a??!1,onChange:h,caller:ge});return s.jsxs(it,{scope:o,checked:b,disabled:d,children:[s.jsx(Ne.button,{type:"button",role:"switch","aria-checked":b,"aria-required":c,"data-state":Re(b),"data-disabled":d?"":void 0,disabled:d,value:u,...x,ref:g,onClick:Xe(n.onClick,j=>{y(k=>!k),w&&(v.current=j.isPropagationStopped(),v.current||j.stopPropagation())})}),w&&s.jsx(Ae,{control:p,bubbles:!v.current,name:i,value:u,checked:b,required:c,disabled:d,form:f,style:{transform:"translateX(-100%)"}})]})});De.displayName=ge;var Ee="SwitchThumb",Pe=m.forwardRef((n,e)=>{const{__scopeSwitch:o,...i}=n,l=nt(Ee,o);return s.jsx(Ne.span,{"data-state":Re(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:e})});Pe.displayName=Ee;var ct="SwitchBubbleInput",Ae=m.forwardRef(({__scopeSwitch:n,control:e,checked:o,bubbles:i=!0,...l},a)=>{const c=m.useRef(null),d=Ce(c,a),u=Je(o),h=Ge(e);return m.useEffect(()=>{const f=c.current;if(!f)return;const x=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(x,"checked").set;if(u!==o&&t){const g=new Event("click",{bubbles:i});t.call(f,o),f.dispatchEvent(g)}},[u,o,i]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o,...l,tabIndex:-1,ref:d,style:{...l.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ae.displayName=ct;function Re(n){return n?"checked":"unchecked"}var dt=De,mt=Pe;function ft(n){const e=_e.c(9);let o,i;e[0]!==n?({className:o,...i}=n,e[0]=n,e[1]=o,e[2]=i):(o=e[1],i=e[2]);let l;e[3]!==o?(l=Se("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",o),e[3]=o,e[4]=l):l=e[4];let a;e[5]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(mt,{"data-slot":"switch-thumb",className:Se("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")}),e[5]=a):a=e[5];let c;return e[6]!==i||e[7]!==l?(c=s.jsx(dt,{"data-slot":"switch",className:l,...i,children:a}),e[6]=i,e[7]=l,e[8]=c):c=e[8],c}function Lt(n){const e=_e.c(116),{staffs:o}=n,[i,l]=m.useState(!1),[a,c]=m.useState(null),[d,u]=m.useState(null),[h]=m.useState("");let f,x;e[0]!==h?(f=()=>{const r=setTimeout(()=>{Fe.get("/business/staffs",{search:h},{preserveState:!0,preserveScroll:!0,replace:!0})},300);return()=>clearTimeout(r)},x=[h],e[0]=h,e[1]=f,e[2]=x):(f=e[1],x=e[2]),m.useEffect(f,x);let p;e[3]===Symbol.for("react.memo_cache_sentinel")?(p={branch:"",username:"",password:"",confirm_password:"",remarks:"",is_active:!0},e[3]=p):p=e[3];const t=Be(p);let g;e[4]!==t?(g=()=>{c(null),t.reset(),t.clearErrors(),l(!0)},e[4]=t,e[5]=g):g=e[5];const v=g;let w;e[6]!==t?(w=r=>{c(r),t.setData({branch:r.branch,username:r.username,password:"",confirm_password:"",remarks:r.remarks||"",is_active:r.is_active}),t.clearErrors(),l(!0)},e[6]=t,e[7]=w):w=e[7];const b=w;let y;e[8]!==a||e[9]!==t?(y=()=>{a?t.put(`/business/staffs/${a.id}`,{onSuccess:()=>{se.success("Staff updated successfully"),l(!1),t.reset()},onError:ht}):t.post("/business/staffs",{onSuccess:()=>{se.success("Staff created successfully"),l(!1),t.reset()},onError:ut})},e[8]=a,e[9]=t,e[10]=y):y=e[10];const j=y;let k;e[11]!==d||e[12]!==t?(k=()=>{d&&t.delete(`/business/staffs/${d.id}`,{onSuccess:()=>{se.success("Staff deleted successfully"),u(null)},onError:pt})},e[11]=d,e[12]=t,e[13]=k):k=e[13];const be=k;let re;e[14]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx(Ie,{title:"Staff"}),e[14]=re):re=e[14];let ae;e[15]===Symbol.for("react.memo_cache_sentinel")?(ae=s.jsx(rt,{}),e[15]=ae):ae=e[15];let S;e[16]!==v?(S=s.jsx(He,{title:"Staff",description:"Manage the staff accounts of your business",children:s.jsxs(he,{onClick:v,children:[ae,"Create New"]})}),e[16]=v,e[17]=S):S=e[17];let le;e[18]===Symbol.for("react.memo_cache_sentinel")?(le=s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell",children:"Remarks"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e[18]=le):le=e[18];let _;e[19]!==b||e[20]!==o?(_=o?.map(r=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:r.branch}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:r.username}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 hidden md:table-cell",children:r.remarks||"-"}),s.jsx("td",{className:"px-4 py-3 text-sm",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${r.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r.is_active?"Active":"Inactive"})}),s.jsx("td",{className:"px-4 py-3 text-sm text-right",children:s.jsx("div",{className:"flex justify-end gap-2",children:s.jsx(he,{variant:"ghost",size:"icon",onClick:()=>b(r),children:s.jsx(lt,{className:"w-4 h-4"})})})})]},r.id)),e[19]=b,e[20]=o,e[21]=_):_=e[21];let C;e[22]!==_?(C=s.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[le,s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_})]})})}),e[22]=_,e[23]=C):C=e[23];const je=a?"Edit Staff":"Create New Staff";let N;e[24]!==je?(N=s.jsx(Le,{children:s.jsx(ze,{children:je})}),e[24]=je,e[25]=N):N=e[25];let oe;e[26]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsx(te,{htmlFor:"branch",children:"Branch"}),e[26]=oe):oe=e[26];let D;e[27]!==t?(D=r=>t.setData("branch",r.target.value),e[27]=t,e[28]=D):D=e[28];let E;e[29]!==t.data.branch||e[30]!==D?(E=s.jsx(xe,{id:"branch",type:"text",value:t.data.branch,onChange:D,placeholder:"Enter branch name"}),e[29]=t.data.branch,e[30]=D,e[31]=E):E=e[31];let P;e[32]!==t.errors.branch?(P=t.errors.branch&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:t.errors.branch}),e[32]=t.errors.branch,e[33]=P):P=e[33];let A;e[34]!==E||e[35]!==P?(A=s.jsxs("div",{children:[oe,E,P]}),e[34]=E,e[35]=P,e[36]=A):A=e[36];let ie;e[37]===Symbol.for("react.memo_cache_sentinel")?(ie=s.jsx(te,{htmlFor:"username",children:"Username"}),e[37]=ie):ie=e[37];let R;e[38]!==t?(R=r=>t.setData("username",r.target.value),e[38]=t,e[39]=R):R=e[39];let T;e[40]!==t.data.username||e[41]!==R?(T=s.jsx(xe,{id:"username",type:"text",value:t.data.username,onChange:R,placeholder:"Enter username"}),e[40]=t.data.username,e[41]=R,e[42]=T):T=e[42];let B;e[43]!==t.errors.username?(B=t.errors.username&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:t.errors.username}),e[43]=t.errors.username,e[44]=B):B=e[44];let F;e[45]!==T||e[46]!==B?(F=s.jsxs("div",{children:[ie,T,B]}),e[45]=T,e[46]=B,e[47]=F):F=e[47];let ne;e[48]===Symbol.for("react.memo_cache_sentinel")?(ne=s.jsx(te,{htmlFor:"password",children:"Password"}),e[48]=ne):ne=e[48];let I;e[49]!==t?(I=r=>t.setData("password",r.target.value),e[49]=t,e[50]=I):I=e[50];const ve=a?"Leave blank to keep current":"Enter password";let H;e[51]!==t.data.password||e[52]!==I||e[53]!==ve?(H=s.jsx(xe,{id:"password",type:"password",value:t.data.password,onChange:I,placeholder:ve}),e[51]=t.data.password,e[52]=I,e[53]=ve,e[54]=H):H=e[54];let M;e[55]!==t.errors.password?(M=t.errors.password&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:t.errors.password}),e[55]=t.errors.password,e[56]=M):M=e[56];let L;e[57]!==H||e[58]!==M?(L=s.jsxs("div",{children:[ne,H,M]}),e[57]=H,e[58]=M,e[59]=L):L=e[59];let z;e[60]!==a||e[61]!==t?(z=!a&&s.jsxs("div",{children:[s.jsx(te,{htmlFor:"confirm_password",children:"Confirm Password"}),s.jsx(xe,{id:"confirm_password",type:"password",value:t.data.confirm_password,onChange:r=>t.setData("confirm_password",r.target.value),placeholder:"Confirm password"}),t.errors.confirm_password&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:t.errors.confirm_password})]}),e[60]=a,e[61]=t,e[62]=z):z=e[62];let O;e[63]!==L||e[64]!==z?(O=s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[L,z]}),e[63]=L,e[64]=z,e[65]=O):O=e[65];let ce;e[66]===Symbol.for("react.memo_cache_sentinel")?(ce=s.jsx(te,{htmlFor:"remarks",children:"Remarks"}),e[66]=ce):ce=e[66];let U;e[67]!==t?(U=r=>t.setData("remarks",r.target.value),e[67]=t,e[68]=U):U=e[68];let $;e[69]!==t.data.remarks||e[70]!==U?($=s.jsx($e,{id:"remarks",value:t.data.remarks,onChange:U,placeholder:"Enter remarks",rows:3}),e[69]=t.data.remarks,e[70]=U,e[71]=$):$=e[71];let q;e[72]!==t.errors.remarks?(q=t.errors.remarks&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:t.errors.remarks}),e[72]=t.errors.remarks,e[73]=q):q=e[73];let W;e[74]!==$||e[75]!==q?(W=s.jsxs("div",{children:[ce,$,q]}),e[74]=$,e[75]=q,e[76]=W):W=e[76];let X;e[77]!==a||e[78]!==t?(X=a&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ft,{id:"is_active",checked:t.data.is_active,onCheckedChange:r=>t.setData("is_active",r)}),s.jsx(te,{htmlFor:"is_active",children:"Active"})]}),e[77]=a,e[78]=t,e[79]=X):X=e[79];let de;e[80]===Symbol.for("react.memo_cache_sentinel")?(de=s.jsx(he,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e[80]=de):de=e[80];const we=t.processing?"Saving...":a?"Update Staff":"Create Staff";let G;e[81]!==t.processing||e[82]!==j||e[83]!==we?(G=s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[de,s.jsx(he,{onClick:j,disabled:t.processing,children:we})]}),e[81]=t.processing,e[82]=j,e[83]=we,e[84]=G):G=e[84];let J;e[85]!==A||e[86]!==F||e[87]!==O||e[88]!==W||e[89]!==X||e[90]!==G?(J=s.jsxs("div",{className:"space-y-4",children:[A,F,O,W,X,G]}),e[85]=A,e[86]=F,e[87]=O,e[88]=W,e[89]=X,e[90]=G,e[91]=J):J=e[91];let K;e[92]!==N||e[93]!==J?(K=s.jsxs(Oe,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[N,J]}),e[92]=N,e[93]=J,e[94]=K):K=e[94];let Q;e[95]!==i||e[96]!==K?(Q=s.jsx(Ue,{open:i,onOpenChange:l,children:K}),e[95]=i,e[96]=K,e[97]=Q):Q=e[97];const ye=!!d;let me;e[98]===Symbol.for("react.memo_cache_sentinel")?(me=()=>u(null),e[98]=me):me=e[98];let fe;e[99]===Symbol.for("react.memo_cache_sentinel")?(fe=s.jsx(Ke,{children:"Delete Staff"}),e[99]=fe):fe=e[99];const ke=d?.branch;let V;e[100]!==ke?(V=s.jsxs(Qe,{children:[fe,s.jsxs(Ve,{children:["Are you sure you want to delete"," ",s.jsx("strong",{children:ke}),"? This action cannot be undone."]})]}),e[100]=ke,e[101]=V):V=e[101];let pe;e[102]===Symbol.for("react.memo_cache_sentinel")?(pe=s.jsx(Ye,{children:"Cancel"}),e[102]=pe):pe=e[102];let Y;e[103]!==be?(Y=s.jsxs(Ze,{children:[pe,s.jsx(et,{onClick:be,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]}),e[103]=be,e[104]=Y):Y=e[104];let Z;e[105]!==V||e[106]!==Y?(Z=s.jsxs(tt,{children:[V,Y]}),e[105]=V,e[106]=Y,e[107]=Z):Z=e[107];let ee;e[108]!==ye||e[109]!==Z?(ee=s.jsx(st,{open:ye,onOpenChange:me,children:Z}),e[108]=ye,e[109]=Z,e[110]=ee):ee=e[110];let ue;return e[111]!==S||e[112]!==C||e[113]!==Q||e[114]!==ee?(ue=s.jsxs(Me,{children:[re,S,C,Q,ee]}),e[111]=S,e[112]=C,e[113]=Q,e[114]=ee,e[115]=ue):ue=e[115],ue}function pt(){se.error("Failed to delete branch")}function ut(){se.error("Failed to create branch")}function ht(){se.error("Failed to update branch")}export{Lt as default};
