import{c as Ws,u as qs,j as t,H as Gs,t as Ys}from"./app-BP7_UBsH.js";import{M as Zs}from"./module-heading-CdUAozSo.js";import{A as Js}from"./app-layout-yGIEzz9T.js";import{B as h}from"./button-DvDymrIv.js";import{I as n}from"./input-cu4u0ZVN.js";import{L as c}from"./label-DiiQI9u9.js";import{T as Os}from"./textarea-BhfLQBam.js";import{C as is,a as os,b as cs,c as pt,d as ht}from"./card-DHQQhVMn.js";import{S as Ks,a as Qs,b as Xs,c as el,d as ds}from"./select-BuzWszWG.js";import{T as tl,a as Ds,b as Rs,c as sl}from"./tabs-CMuBjMSl.js";import{A as zs,a as Us,b as ll}from"./alert-BBd3zcw7.js";import{S as gt}from"./sparkles-BWEG1qNP.js";import{M as al}from"./message-circle-warning-C3cPw4E3.js";import{I as $s}from"./image-6v9hcuVA.js";import{P as rl}from"./plus-By9IPHXr.js";import{T as ml}from"./trash-2-Cs-mxql5.js";/* empty css            */import"./mainLogo-CIbDdoHH.js";import"./index-DU2APxIa.js";import"./index-BDJ0wCqH.js";import"./index-U-1cYStl.js";import"./x-CPs2M6o8.js";import"./index-YF4miOVd.js";import"./index-BrmUHuAG.js";import"./index-B93TV_ts.js";import"./dropdown-menu-D41agouZ.js";import"./index-D6b3eXot.js";import"./stamp-DJLvAjPA.js";import"./qr-code-CHAornUs.js";import"./ticket-B-MxCpol.js";import"./index-Ce0gqUjx.js";import"./chevron-down-C4Zj-Dka.js";import"./check-Djw3OG9J.js";function Hl(ft){const e=Ws.c(366),{cardTemplate:m}=ft,ns=m.logo?`/${m.logo}`:null,xs=m.name||"",ps=m.heading||"LOYALTY CARD",hs=m.subheading||"Collect stamps and earn rewards!",gs=m.stampsNeeded||10,fs=m.mechanics||"Get 1 stamp per purchase. Collect stamps to unlock rewards!",us=m.backgroundColor||"#4DB6AC",js=m.textColor||"#FFFFFF",Ns=m.stampColor||"#4DB6AC",bs=m.stampFilledColor||"#FF6B6B",ys=m.stampEmptyColor||"#E5E7EB",vs=m.stampImage?`/${m.stampImage}`:null,Cs=m.backgroundImage?`/${m.backgroundImage}`:null,ws=m.footer||"your social media • your website",ks=m.stampShape||"star";let f;e[0]!==m.perks?(f=m.perks||[],e[0]=m.perks,e[1]=f):f=e[1];let ut;e[2]!==m.valid_until||e[3]!==ns||e[4]!==bs||e[5]!==ys||e[6]!==vs||e[7]!==Cs||e[8]!==ws||e[9]!==ks||e[10]!==f||e[11]!==xs||e[12]!==ps||e[13]!==hs||e[14]!==gs||e[15]!==fs||e[16]!==us||e[17]!==js||e[18]!==Ns?(ut={logo:ns,name:xs,heading:ps,valid_until:m.valid_until,subheading:hs,stampsNeeded:gs,mechanics:fs,backgroundColor:us,textColor:js,stampColor:Ns,stampFilledColor:bs,stampEmptyColor:ys,stampImage:vs,backgroundImage:Cs,footer:ws,stampShape:ks,perks:f},e[2]=m.valid_until,e[3]=ns,e[4]=bs,e[5]=ys,e[6]=vs,e[7]=Cs,e[8]=ws,e[9]=ks,e[10]=f,e[11]=xs,e[12]=ps,e[13]=hs,e[14]=gs,e[15]=fs,e[16]=us,e[17]=js,e[18]=Ns,e[19]=ut):ut=e[19];const{data:s,setData:l,put:Ss,processing:x,errors:a}=qs(ut);let jt;e[20]!==l?(jt=(r,d)=>{const i=d.target.files[0];if(i){const o=new FileReader;o.onloadend=()=>{l(r,o.result)},o.readAsDataURL(i)}},e[20]=l,e[21]=jt):jt=e[21];const u=jt;let Nt;e[22]!==s.perks||e[23]!==l?(Nt=()=>{l("perks",[...s.perks,{stampNumber:1,reward:"",color:"#FF6B6B",details:""}])},e[22]=s.perks,e[23]=l,e[24]=Nt):Nt=e[24];const _s=Nt;let bt;e[25]!==s.perks||e[26]!==l?(bt=(r,d,i)=>{const o=s.perks.map((g,Bs)=>Bs===r?{...g,[d]:i}:g);l("perks",o)},e[25]=s.perks,e[26]=l,e[27]=bt):bt=e[27];const p=bt;let yt;e[28]!==s.perks||e[29]!==l?(yt=r=>{l("perks",s.perks.filter((d,i)=>i!==r))},e[28]=s.perks,e[29]=l,e[30]=yt):yt=e[30];const xt=yt;let vt;e[31]!==s.perks?(vt=r=>s.perks.find(d=>d.stampNumber===r),e[31]=s.perks,e[32]=vt):vt=e[32];const Is=vt;let Ct;e[33]!==m.id||e[34]!==Ss?(Ct=r=>{r.preventDefault(),Ss(`/business/card-templates/${m.id}`,{onSuccess:ol,onError:il})},e[33]=m.id,e[34]=Ss,e[35]=Ct):Ct=e[35];const Fs=Ct;let wt;e[36]!==s.stampEmptyColor||e[37]!==s.stampFilledColor||e[38]!==s.stampImage?(wt=r=>{const{shape:d,isFilled:i,isReward:o,rewardText:g,color:Bs,details:Hs}=r,rs=i?s.stampFilledColor||Bs:s.stampEmptyColor,ms=i?"#FFFFFF":"#D1D5DB",Vs={circle:t.jsxs("svg",{width:"70",height:"70",viewBox:"0 0 100 100",className:"drop-shadow-lg transition-all duration-300 hover:scale-110 w-full h-full",children:[t.jsx("defs",{children:s.stampImage&&t.jsx("pattern",{id:"stampPattern",x:"0",y:"0",width:"1",height:"1",children:t.jsx("image",{href:s.stampImage,x:"0",y:"0",width:"100",height:"100",preserveAspectRatio:"xMidYMid slice"})})}),t.jsx("circle",{cx:"50",cy:"50",r:"45",fill:s.stampImage&&i?"url(#stampPattern)":rs,stroke:ms,strokeWidth:"3"})]}),star:t.jsxs("svg",{width:"70",height:"70",viewBox:"0 0 100 100",className:"drop-shadow-lg transition-all duration-300 hover:scale-110 w-full h-full",children:[t.jsx("defs",{children:s.stampImage&&t.jsx("pattern",{id:"stampPattern",x:"0",y:"0",width:"1",height:"1",children:t.jsx("image",{href:s.stampImage,x:"0",y:"0",width:"100",height:"100",preserveAspectRatio:"xMidYMid slice"})})}),t.jsx("path",{d:"M50 5 L55 20 L70 15 L70 30 L85 35 L75 47 L85 59 L70 64 L70 79 L55 74 L50 89 L45 74 L30 79 L30 64 L15 59 L25 47 L15 35 L30 30 L30 15 L45 20 Z",fill:s.stampImage&&i?"url(#stampPattern)":rs,stroke:ms,strokeWidth:"3"})]}),square:t.jsxs("svg",{width:"70",height:"70",viewBox:"0 0 100 100",className:"drop-shadow-lg transition-all duration-300 hover:scale-110 w-full h-full",children:[t.jsx("defs",{children:s.stampImage&&t.jsx("pattern",{id:"stampPattern",x:"0",y:"0",width:"1",height:"1",children:t.jsx("image",{href:s.stampImage,x:"0",y:"0",width:"100",height:"100",preserveAspectRatio:"xMidYMid slice"})})}),t.jsx("rect",{x:"10",y:"10",width:"80",height:"80",rx:"12",fill:s.stampImage&&i?"url(#stampPattern)":rs,stroke:ms,strokeWidth:"3"})]}),hexagon:t.jsxs("svg",{width:"70",height:"70",viewBox:"0 0 100 100",className:"drop-shadow-lg transition-all duration-300 hover:scale-110 w-full h-full",children:[t.jsx("defs",{children:s.stampImage&&t.jsx("pattern",{id:"stampPattern",x:"0",y:"0",width:"1",height:"1",children:t.jsx("image",{href:s.stampImage,x:"0",y:"0",width:"100",height:"100",preserveAspectRatio:"xMidYMid slice"})})}),t.jsx("path",{d:"M50 5 L90 27.5 L90 72.5 L50 95 L10 72.5 L10 27.5 Z",fill:s.stampImage&&i?"url(#stampPattern)":rs,stroke:ms,strokeWidth:"3"})]})};return t.jsxs("div",{className:"relative group",children:[Vs[d],o&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-[10px] text-center px-1 leading-tight drop-shadow-lg",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:g})}),i&&!o&&!s.stampImage&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx(gt,{size:20,className:"text-white animate-pulse"})}),o&&Hs&&t.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10",children:t.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded-lg py-2 px-3 shadow-xl whitespace-nowrap max-w-[200px] text-center",children:[t.jsx("div",{className:"font-bold mb-1",children:g}),t.jsx("div",{className:"text-gray-300",children:Hs}),t.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1",children:t.jsx("div",{className:"border-4 border-transparent border-t-gray-900"})})]})})]})},e[36]=s.stampEmptyColor,e[37]=s.stampFilledColor,e[38]=s.stampImage,e[39]=wt):wt=e[39];const Ls=wt;let kt,St;e[40]===Symbol.for("react.memo_cache_sentinel")?(kt=t.jsx(Gs,{title:"Edit Card Template"}),St=t.jsx(Zs,{title:"Edit your customized card template",description:"Update your loyalty card design with live preview"}),e[40]=kt,e[41]=St):(kt=e[40],St=e[41]);let _t;e[42]===Symbol.for("react.memo_cache_sentinel")?(_t=t.jsxs(zs,{variant:"destructive",children:[t.jsx(al,{}),t.jsx(ll,{children:"Important: This affects existing customers"}),t.jsx(Us,{children:"Any changes to these perks will immediately update all active customer loyalty cards. Make sure your customers are aware of perk changes before saving."})]}),e[42]=_t):_t=e[42];let It;e[43]===Symbol.for("react.memo_cache_sentinel")?(It=t.jsxs(tl,{className:"grid w-full grid-cols-3",children:[t.jsx(Ds,{value:"design",className:"text-xs sm:text-sm",children:"Design"}),t.jsx(Ds,{value:"perks",className:"text-xs sm:text-sm",children:"Perks"}),t.jsx(Ds,{value:"details",className:"text-xs sm:text-sm",children:"Details"})]}),e[43]=It):It=e[43];let Ft;e[44]===Symbol.for("react.memo_cache_sentinel")?(Ft=t.jsxs(is,{children:[t.jsx(os,{className:"text-lg md:text-xl",children:"Visual Design"}),t.jsx(cs,{className:"text-xs md:text-sm",children:"Customize the appearance of your loyalty card"})]}),e[44]=Ft):Ft=e[44];let Lt;e[45]===Symbol.for("react.memo_cache_sentinel")?(Lt=t.jsx(c,{className:"text-sm md:text-base",children:"Background Image (Optional)"}),e[45]=Lt):Lt=e[45];let Et;e[46]===Symbol.for("react.memo_cache_sentinel")?(Et=t.jsx($s,{className:"mr-2 h-3 w-3 md:h-4 md:w-4"}),e[46]=Et):Et=e[46];let j;e[47]!==u?(j=t.jsxs(h,{type:"button",variant:"outline",className:"relative text-xs md:text-sm",children:[Et,"Upload Background",t.jsx("input",{type:"file",accept:"image/*",onChange:r=>u("backgroundImage",r),className:"absolute inset-0 opacity-0 cursor-pointer"})]}),e[47]=u,e[48]=j):j=e[48];let N;e[49]!==s.backgroundImage||e[50]!==l?(N=s.backgroundImage&&t.jsx(h,{type:"button",variant:"destructive",size:"sm",onClick:()=>l("backgroundImage",null),className:"text-xs md:text-sm",children:"Remove"}),e[49]=s.backgroundImage,e[50]=l,e[51]=N):N=e[51];let b;e[52]!==j||e[53]!==N?(b=t.jsxs("div",{className:"flex items-center gap-4",children:[j,N]}),e[52]=j,e[53]=N,e[54]=b):b=e[54];let y;e[55]!==a.backgroundImage?(y=a.backgroundImage&&t.jsx("p",{className:"text-xs md:text-sm text-red-500",children:a.backgroundImage}),e[55]=a.backgroundImage,e[56]=y):y=e[56];let v;e[57]!==b||e[58]!==y?(v=t.jsxs("div",{className:"space-y-2",children:[Lt,b,y]}),e[57]=b,e[58]=y,e[59]=v):v=e[59];let Tt;e[60]===Symbol.for("react.memo_cache_sentinel")?(Tt=t.jsx(c,{className:"text-sm md:text-base",children:"Stamp Shape"}),e[60]=Tt):Tt=e[60];let C;e[61]!==l?(C=r=>l("stampShape",r),e[61]=l,e[62]=C):C=e[62];let At;e[63]===Symbol.for("react.memo_cache_sentinel")?(At=t.jsx(Qs,{className:"text-xs md:text-sm",children:t.jsx(Xs,{})}),e[63]=At):At=e[63];let Pt;e[64]===Symbol.for("react.memo_cache_sentinel")?(Pt=t.jsxs(el,{children:[t.jsx(ds,{value:"star",children:"Star"}),t.jsx(ds,{value:"circle",children:"Circle"}),t.jsx(ds,{value:"square",children:"Square"}),t.jsx(ds,{value:"hexagon",children:"Hexagon"})]}),e[64]=Pt):Pt=e[64];let w;e[65]!==s.stampShape||e[66]!==C?(w=t.jsxs(Ks,{value:s.stampShape,onValueChange:C,children:[At,Pt]}),e[65]=s.stampShape,e[66]=C,e[67]=w):w=e[67];let k;e[68]!==a.stampShape?(k=a.stampShape&&t.jsx("p",{className:"text-xs md:text-sm text-red-500",children:a.stampShape}),e[68]=a.stampShape,e[69]=k):k=e[69];let S;e[70]!==w||e[71]!==k?(S=t.jsxs("div",{className:"space-y-2",children:[Tt,w,k]}),e[70]=w,e[71]=k,e[72]=S):S=e[72];let Mt;e[73]===Symbol.for("react.memo_cache_sentinel")?(Mt=t.jsx(c,{className:"text-sm md:text-base",children:"Background Color"}),e[73]=Mt):Mt=e[73];let _;e[74]!==l?(_=r=>l("backgroundColor",r.target.value),e[74]=l,e[75]=_):_=e[75];let I;e[76]!==s.backgroundColor||e[77]!==_?(I=t.jsx(n,{type:"color",value:s.backgroundColor,onChange:_,className:"w-16 md:w-20 h-10 cursor-pointer"}),e[76]=s.backgroundColor,e[77]=_,e[78]=I):I=e[78];let F;e[79]!==l?(F=r=>l("backgroundColor",r.target.value),e[79]=l,e[80]=F):F=e[80];let L;e[81]!==s.backgroundColor||e[82]!==F?(L=t.jsx(n,{type:"text",value:s.backgroundColor,onChange:F,className:"flex-1 text-xs md:text-sm"}),e[81]=s.backgroundColor,e[82]=F,e[83]=L):L=e[83];let E;e[84]!==I||e[85]!==L?(E=t.jsxs("div",{className:"flex gap-2",children:[I,L]}),e[84]=I,e[85]=L,e[86]=E):E=e[86];let T;e[87]!==a.backgroundColor?(T=a.backgroundColor&&t.jsx("p",{className:"text-xs md:text-sm text-red-500",children:a.backgroundColor}),e[87]=a.backgroundColor,e[88]=T):T=e[88];let A;e[89]!==E||e[90]!==T?(A=t.jsxs("div",{className:"space-y-2",children:[Mt,E,T]}),e[89]=E,e[90]=T,e[91]=A):A=e[91];let Bt;e[92]===Symbol.for("react.memo_cache_sentinel")?(Bt=t.jsx(c,{className:"text-sm md:text-base",children:"Text Color"}),e[92]=Bt):Bt=e[92];let P;e[93]!==l?(P=r=>l("textColor",r.target.value),e[93]=l,e[94]=P):P=e[94];let M;e[95]!==s.textColor||e[96]!==P?(M=t.jsx(n,{type:"color",value:s.textColor,onChange:P,className:"w-16 md:w-20 h-10 cursor-pointer"}),e[95]=s.textColor,e[96]=P,e[97]=M):M=e[97];let B;e[98]!==l?(B=r=>l("textColor",r.target.value),e[98]=l,e[99]=B):B=e[99];let D;e[100]!==s.textColor||e[101]!==B?(D=t.jsx(n,{type:"text",value:s.textColor,onChange:B,className:"flex-1 text-xs md:text-sm"}),e[100]=s.textColor,e[101]=B,e[102]=D):D=e[102];let R;e[103]!==M||e[104]!==D?(R=t.jsxs("div",{className:"flex gap-2",children:[M,D]}),e[103]=M,e[104]=D,e[105]=R):R=e[105];let z;e[106]!==a.textColor?(z=a.textColor&&t.jsx("p",{className:"text-xs md:text-sm text-red-500",children:a.textColor}),e[106]=a.textColor,e[107]=z):z=e[107];let U;e[108]!==R||e[109]!==z?(U=t.jsxs("div",{className:"space-y-2",children:[Bt,R,z]}),e[108]=R,e[109]=z,e[110]=U):U=e[110];let Dt;e[111]===Symbol.for("react.memo_cache_sentinel")?(Dt=t.jsx(c,{className:"text-sm md:text-base",children:"Stamp Filled Color"}),e[111]=Dt):Dt=e[111];let Y;e[112]!==l?(Y=r=>l("stampFilledColor",r.target.value),e[112]=l,e[113]=Y):Y=e[113];let H;e[114]!==s.stampFilledColor||e[115]!==Y?(H=t.jsx(n,{type:"color",value:s.stampFilledColor,onChange:Y,className:"w-16 md:w-20 h-10 cursor-pointer"}),e[114]=s.stampFilledColor,e[115]=Y,e[116]=H):H=e[116];let O;e[117]!==l?(O=r=>l("stampFilledColor",r.target.value),e[117]=l,e[118]=O):O=e[118];let $;e[119]!==s.stampFilledColor||e[120]!==O?($=t.jsx(n,{type:"text",value:s.stampFilledColor,onChange:O,className:"flex-1 text-xs md:text-sm"}),e[119]=s.stampFilledColor,e[120]=O,e[121]=$):$=e[121];let V;e[122]!==H||e[123]!==$?(V=t.jsxs("div",{className:"flex gap-2",children:[H,$]}),e[122]=H,e[123]=$,e[124]=V):V=e[124];let W;e[125]!==a.stampFilledColor?(W=a.stampFilledColor&&t.jsx("p",{className:"text-xs md:text-sm text-red-500",children:a.stampFilledColor}),e[125]=a.stampFilledColor,e[126]=W):W=e[126];let q;e[127]!==V||e[128]!==W?(q=t.jsxs("div",{className:"space-y-2",children:[Dt,V,W]}),e[127]=V,e[128]=W,e[129]=q):q=e[129];let Rt;e[130]===Symbol.for("react.memo_cache_sentinel")?(Rt=t.jsx(c,{className:"text-sm md:text-base",children:"Stamp Empty Color"}),e[130]=Rt):Rt=e[130];let G;e[131]!==l?(G=r=>l("stampEmptyColor",r.target.value),e[131]=l,e[132]=G):G=e[132];let Z;e[133]!==s.stampEmptyColor||e[134]!==G?(Z=t.jsx(n,{type:"color",value:s.stampEmptyColor,onChange:G,className:"w-16 md:w-20 h-10 cursor-pointer"}),e[133]=s.stampEmptyColor,e[134]=G,e[135]=Z):Z=e[135];let J;e[136]!==l?(J=r=>l("stampEmptyColor",r.target.value),e[136]=l,e[137]=J):J=e[137];let K;e[138]!==s.stampEmptyColor||e[139]!==J?(K=t.jsx(n,{type:"text",value:s.stampEmptyColor,onChange:J,className:"flex-1 text-xs md:text-sm"}),e[138]=s.stampEmptyColor,e[139]=J,e[140]=K):K=e[140];let Q;e[141]!==Z||e[142]!==K?(Q=t.jsxs("div",{className:"flex gap-2",children:[Z,K]}),e[141]=Z,e[142]=K,e[143]=Q):Q=e[143];let X;e[144]!==a.stampEmptyColor?(X=a.stampEmptyColor&&t.jsx("p",{className:"text-xs md:text-sm text-red-500",children:a.stampEmptyColor}),e[144]=a.stampEmptyColor,e[145]=X):X=e[145];let ee;e[146]!==Q||e[147]!==X?(ee=t.jsxs("div",{className:"space-y-2",children:[Rt,Q,X]}),e[146]=Q,e[147]=X,e[148]=ee):ee=e[148];let te;e[149]!==A||e[150]!==U||e[151]!==q||e[152]!==ee?(te=t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[A,U,q,ee]}),e[149]=A,e[150]=U,e[151]=q,e[152]=ee,e[153]=te):te=e[153];let zt,Ut;e[154]===Symbol.for("react.memo_cache_sentinel")?(zt=t.jsx(c,{className:"text-sm md:text-base",children:"Stamp Image (Optional)"}),Ut=t.jsx("p",{className:"text-xs text-gray-500",children:"Upload an image to fill the stamps when completed. Overrides stamp colors."}),e[154]=zt,e[155]=Ut):(zt=e[154],Ut=e[155]);let Yt;e[156]===Symbol.for("react.memo_cache_sentinel")?(Yt=t.jsx($s,{className:"mr-2 h-3 w-3 md:h-4 md:w-4"}),e[156]=Yt):Yt=e[156];let se;e[157]!==u?(se=t.jsxs(h,{type:"button",variant:"outline",className:"relative text-xs md:text-sm",children:[Yt,"Upload Stamp Image",t.jsx("input",{type:"file",accept:"image/*",onChange:r=>u("stampImage",r),className:"absolute inset-0 opacity-0 cursor-pointer"})]}),e[157]=u,e[158]=se):se=e[158];let le;e[159]!==s.stampImage||e[160]!==l?(le=s.stampImage&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:s.stampImage,alt:"Stamp",className:"h-12 w-12 md:h-16 md:w-16 object-cover rounded-lg ring-2 ring-primary"}),t.jsx(h,{type:"button",variant:"destructive",size:"sm",onClick:()=>l("stampImage",null),className:"text-xs md:text-sm",children:"Remove"})]}),e[159]=s.stampImage,e[160]=l,e[161]=le):le=e[161];let ae;e[162]!==se||e[163]!==le?(ae=t.jsxs("div",{className:"flex items-center gap-4",children:[se,le]}),e[162]=se,e[163]=le,e[164]=ae):ae=e[164];let re;e[165]!==a.stampImage?(re=a.stampImage&&t.jsx("p",{className:"text-xs md:text-sm text-red-500",children:a.stampImage}),e[165]=a.stampImage,e[166]=re):re=e[166];let me;e[167]!==ae||e[168]!==re?(me=t.jsxs("div",{className:"space-y-2",children:[zt,Ut,ae,re]}),e[167]=ae,e[168]=re,e[169]=me):me=e[169];let ie;e[170]!==v||e[171]!==S||e[172]!==te||e[173]!==me?(ie=t.jsx(Rs,{value:"design",className:"space-y-4 md:space-y-6",children:t.jsxs(pt,{children:[Ft,t.jsxs(ht,{className:"space-y-4 md:space-y-6",children:[v,S,te,me]})]})}),e[170]=v,e[171]=S,e[172]=te,e[173]=me,e[174]=ie):ie=e[174];let Ht;e[175]===Symbol.for("react.memo_cache_sentinel")?(Ht=t.jsxs(is,{children:[t.jsx(os,{className:"text-lg md:text-xl",children:"Rewards Configuration"}),t.jsx(cs,{className:"text-xs md:text-sm",children:"Set up rewards at specific stamp milestones"})]}),e[175]=Ht):Ht=e[175];let Ot;e[176]===Symbol.for("react.memo_cache_sentinel")?(Ot=t.jsx(c,{className:"text-sm md:text-base",children:"Total Stamps Needed"}),e[176]=Ot):Ot=e[176];let oe;e[177]!==l?(oe=r=>l("stampsNeeded",parseInt(r.target.value)),e[177]=l,e[178]=oe):oe=e[178];let ce;e[179]!==s.stampsNeeded||e[180]!==oe?(ce=t.jsx(n,{type:"number",min:"2",max:"20",value:s.stampsNeeded,onChange:oe,className:"text-xs md:text-sm"}),e[179]=s.stampsNeeded,e[180]=oe,e[181]=ce):ce=e[181];let de;e[182]!==a.stampsNeeded?(de=a.stampsNeeded&&t.jsx("p",{className:"text-xs md:text-sm text-red-500",children:a.stampsNeeded}),e[182]=a.stampsNeeded,e[183]=de):de=e[183];let ne;e[184]!==ce||e[185]!==de?(ne=t.jsxs("div",{className:"space-y-2",children:[Ot,ce,de]}),e[184]=ce,e[185]=de,e[186]=ne):ne=e[186];let $t;e[187]===Symbol.for("react.memo_cache_sentinel")?($t=t.jsx(c,{className:"text-sm md:text-base",children:"Reward Milestones"}),e[187]=$t):$t=e[187];let Vt;e[188]===Symbol.for("react.memo_cache_sentinel")?(Vt=t.jsx(rl,{className:"mr-2 h-3 w-3 md:h-4 md:w-4"}),e[188]=Vt):Vt=e[188];let xe;e[189]!==_s?(xe=t.jsxs("div",{className:"flex items-center justify-between",children:[$t,t.jsxs(h,{type:"button",onClick:_s,size:"sm",className:"text-xs md:text-sm",children:[Vt,"Add Perk"]})]}),e[189]=_s,e[190]=xe):xe=e[190];let pe;if(e[191]!==s.perks||e[192]!==s.stampsNeeded||e[193]!==xt||e[194]!==p){let r;e[196]!==s.stampsNeeded||e[197]!==xt||e[198]!==p?(r=(d,i)=>t.jsx(pt,{className:"border-2",children:t.jsxs(ht,{className:"pt-4 md:pt-6",children:[t.jsxs("div",{className:"grid grid-cols-12 gap-2 md:gap-4 items-end",children:[t.jsxs("div",{className:"col-span-3",children:[t.jsx(c,{className:"text-xs md:text-sm",children:"Stamp #"}),t.jsx(n,{type:"number",min:"1",max:s.stampsNeeded,value:d.stampNumber,onChange:o=>p(i,"stampNumber",parseInt(o.target.value)),className:"text-xs md:text-sm"})]}),t.jsxs("div",{className:"col-span-5",children:[t.jsx(c,{className:"text-xs md:text-sm",children:"Reward"}),t.jsx(n,{type:"text",placeholder:"10% OFF",value:d.reward,onChange:o=>p(i,"reward",o.target.value),className:"text-xs md:text-sm"})]}),t.jsxs("div",{className:"col-span-3",children:[t.jsx(c,{className:"text-xs md:text-sm",children:"Color"}),t.jsx(n,{type:"color",value:d.color,onChange:o=>p(i,"color",o.target.value),className:"h-9 md:h-10 cursor-pointer"})]}),t.jsx("div",{className:"col-span-1",children:t.jsx(h,{type:"button",variant:"destructive",size:"icon",onClick:()=>xt(i),className:"h-9 w-9 md:h-10 md:w-10",children:t.jsx(ml,{className:"h-3 w-3 md:h-4 md:w-4"})})})]}),t.jsxs("div",{className:"mt-3 md:mt-4",children:[t.jsx(c,{className:"text-xs md:text-sm",children:"Perk Details"}),t.jsx(Os,{placeholder:"e.g., Get 10% discount on your next purchase",value:d.details,onChange:o=>p(i,"details",o.target.value),rows:2,className:"text-xs md:text-sm mt-1"})]})]})},i),e[196]=s.stampsNeeded,e[197]=xt,e[198]=p,e[199]=r):r=e[199],pe=s.perks.map(r),e[191]=s.perks,e[192]=s.stampsNeeded,e[193]=xt,e[194]=p,e[195]=pe}else pe=e[195];let he;e[200]!==s.perks.length?(he=s.perks.length===0&&t.jsx(zs,{children:t.jsx(Us,{className:"text-xs md:text-sm",children:'No reward milestones set. Click "Add Perk" to create rewards at specific stamps.'})}),e[200]=s.perks.length,e[201]=he):he=e[201];let ge;e[202]!==a.perks?(ge=a.perks&&t.jsx("p",{className:"text-xs md:text-sm text-red-500",children:a.perks}),e[202]=a.perks,e[203]=ge):ge=e[203];let fe;e[204]!==xe||e[205]!==pe||e[206]!==he||e[207]!==ge?(fe=t.jsxs("div",{className:"space-y-4",children:[xe,pe,he,ge]}),e[204]=xe,e[205]=pe,e[206]=he,e[207]=ge,e[208]=fe):fe=e[208];let ue;e[209]!==ne||e[210]!==fe?(ue=t.jsx(Rs,{value:"perks",className:"space-y-4 md:space-y-6",children:t.jsxs(pt,{children:[Ht,t.jsxs(ht,{className:"space-y-4",children:[ne,fe]})]})}),e[209]=ne,e[210]=fe,e[211]=ue):ue=e[211];let Wt;e[212]===Symbol.for("react.memo_cache_sentinel")?(Wt=t.jsxs(is,{children:[t.jsx(os,{className:"text-lg md:text-xl",children:"Card Information"}),t.jsx(cs,{className:"text-xs md:text-sm",children:"Add text content and details"})]}),e[212]=Wt):Wt=e[212];let qt;e[213]===Symbol.for("react.memo_cache_sentinel")?(qt=t.jsx(c,{className:"text-sm md:text-base",children:"Card Name"}),e[213]=qt):qt=e[213];let je;e[214]!==l?(je=r=>l("name",r.target.value),e[214]=l,e[215]=je):je=e[215];let Ne;e[216]!==s.name||e[217]!==je?(Ne=t.jsx(n,{type:"text",value:s.name,onChange:je,placeholder:"This going to be the unique name of the card template",className:"text-xs md:text-sm"}),e[216]=s.name,e[217]=je,e[218]=Ne):Ne=e[218];let be;e[219]!==a.name?(be=a.name&&t.jsx("p",{className:"text-xs md:text-sm text-red-500",children:a.name}),e[219]=a.name,e[220]=be):be=e[220];let ye;e[221]!==Ne||e[222]!==be?(ye=t.jsxs("div",{className:"space-y-2",children:[qt,Ne,be]}),e[221]=Ne,e[222]=be,e[223]=ye):ye=e[223];let Gt;e[224]===Symbol.for("react.memo_cache_sentinel")?(Gt=t.jsx(c,{className:"text-sm md:text-base",children:"Card Heading"}),e[224]=Gt):Gt=e[224];let ve;e[225]!==l?(ve=r=>l("heading",r.target.value),e[225]=l,e[226]=ve):ve=e[226];let Ce;e[227]!==s.heading||e[228]!==ve?(Ce=t.jsx(n,{type:"text",value:s.heading,onChange:ve,placeholder:"LOYALTY CARD",className:"text-xs md:text-sm"}),e[227]=s.heading,e[228]=ve,e[229]=Ce):Ce=e[229];let we;e[230]!==a.heading?(we=a.heading&&t.jsx("p",{className:"text-xs md:text-sm text-red-500",children:a.heading}),e[230]=a.heading,e[231]=we):we=e[231];let ke;e[232]!==Ce||e[233]!==we?(ke=t.jsxs("div",{className:"space-y-2",children:[Gt,Ce,we]}),e[232]=Ce,e[233]=we,e[234]=ke):ke=e[234];let Zt;e[235]===Symbol.for("react.memo_cache_sentinel")?(Zt=t.jsx(c,{className:"text-sm md:text-base",children:"Card Subheading"}),e[235]=Zt):Zt=e[235];let Se;e[236]!==l?(Se=r=>l("subheading",r.target.value),e[236]=l,e[237]=Se):Se=e[237];let _e;e[238]!==s.subheading||e[239]!==Se?(_e=t.jsx(n,{type:"text",value:s.subheading,onChange:Se,placeholder:"Collect stamps and earn rewards!",className:"text-xs md:text-sm"}),e[238]=s.subheading,e[239]=Se,e[240]=_e):_e=e[240];let Ie;e[241]!==a.subheading?(Ie=a.subheading&&t.jsx("p",{className:"text-xs md:text-sm text-red-500",children:a.subheading}),e[241]=a.subheading,e[242]=Ie):Ie=e[242];let Fe;e[243]!==_e||e[244]!==Ie?(Fe=t.jsxs("div",{className:"space-y-2",children:[Zt,_e,Ie]}),e[243]=_e,e[244]=Ie,e[245]=Fe):Fe=e[245];let Jt;e[246]===Symbol.for("react.memo_cache_sentinel")?(Jt=t.jsx(c,{className:"text-sm md:text-base",children:"Promo Mechanics"}),e[246]=Jt):Jt=e[246];let Le;e[247]!==l?(Le=r=>l("mechanics",r.target.value),e[247]=l,e[248]=Le):Le=e[248];let Ee;e[249]!==s.mechanics||e[250]!==Le?(Ee=t.jsx(Os,{value:s.mechanics,onChange:Le,rows:4,placeholder:"Describe how to earn stamps and claim rewards...",className:"text-xs md:text-sm"}),e[249]=s.mechanics,e[250]=Le,e[251]=Ee):Ee=e[251];let Te;e[252]!==a.mechanics?(Te=a.mechanics&&t.jsx("p",{className:"text-xs md:text-sm text-red-500",children:a.mechanics}),e[252]=a.mechanics,e[253]=Te):Te=e[253];let Ae;e[254]!==Ee||e[255]!==Te?(Ae=t.jsxs("div",{className:"space-y-2",children:[Jt,Ee,Te]}),e[254]=Ee,e[255]=Te,e[256]=Ae):Ae=e[256];let Kt;e[257]===Symbol.for("react.memo_cache_sentinel")?(Kt=t.jsx(c,{className:"text-sm md:text-base",children:"Card Footer"}),e[257]=Kt):Kt=e[257];let Pe;e[258]!==l?(Pe=r=>l("footer",r.target.value),e[258]=l,e[259]=Pe):Pe=e[259];let Me;e[260]!==s.footer||e[261]!==Pe?(Me=t.jsx(n,{type:"text",value:s.footer,onChange:Pe,placeholder:"your social media • your website",className:"text-xs md:text-sm"}),e[260]=s.footer,e[261]=Pe,e[262]=Me):Me=e[262];let Be;e[263]!==a.footer?(Be=a.footer&&t.jsx("p",{className:"text-xs md:text-sm text-red-500",children:a.footer}),e[263]=a.footer,e[264]=Be):Be=e[264];let De;e[265]!==Me||e[266]!==Be?(De=t.jsxs("div",{className:"space-y-2",children:[Kt,Me,Be]}),e[265]=Me,e[266]=Be,e[267]=De):De=e[267];let Qt;e[268]===Symbol.for("react.memo_cache_sentinel")?(Qt=t.jsx(c,{className:"text-sm md:text-base",children:"Valid Until"}),e[268]=Qt):Qt=e[268];let Re;e[269]!==l?(Re=r=>l("valid_until",r.target.value),e[269]=l,e[270]=Re):Re=e[270];let ze;e[271]!==s.valid_until||e[272]!==Re?(ze=t.jsx(n,{type:"date",value:s.valid_until,onChange:Re}),e[271]=s.valid_until,e[272]=Re,e[273]=ze):ze=e[273];let Ue;e[274]!==a.valid_until?(Ue=a.valid_until&&t.jsx("p",{className:"text-xs md:text-sm text-red-500",children:a.valid_until}),e[274]=a.valid_until,e[275]=Ue):Ue=e[275];let Ye;e[276]!==ze||e[277]!==Ue?(Ye=t.jsxs("div",{className:"space-y-2",children:[Qt,ze,Ue]}),e[276]=ze,e[277]=Ue,e[278]=Ye):Ye=e[278];let He;e[279]!==ye||e[280]!==ke||e[281]!==Fe||e[282]!==Ae||e[283]!==De||e[284]!==Ye?(He=t.jsx(Rs,{value:"details",className:"space-y-4 md:space-y-6",children:t.jsxs(pt,{children:[Wt,t.jsxs(ht,{className:"space-y-4 md:space-y-6",children:[ye,ke,Fe,Ae,De,Ye]})]})}),e[279]=ye,e[280]=ke,e[281]=Fe,e[282]=Ae,e[283]=De,e[284]=Ye,e[285]=He):He=e[285];let Oe;e[286]!==He||e[287]!==ie||e[288]!==ue?(Oe=t.jsxs(sl,{defaultValue:"design",className:"w-full",children:[It,ie,ue,He]}),e[286]=He,e[287]=ie,e[288]=ue,e[289]=Oe):Oe=e[289];let Xt;e[290]===Symbol.for("react.memo_cache_sentinel")?(Xt=t.jsx(gt,{className:"mr-2 h-4 w-4"}),e[290]=Xt):Xt=e[290];const Es=x?"Updating Template...":"Update Card Template";let $e;e[291]!==x||e[292]!==Es?($e=t.jsx("div",{className:"hidden md:block",children:t.jsxs(h,{type:"submit",className:"w-full",size:"lg",disabled:x,children:[Xt,Es]})}),e[291]=x,e[292]=Es,e[293]=$e):$e=e[293];let Ve;e[294]!==Oe||e[295]!==$e?(Ve=t.jsxs("div",{className:"lg:col-span-3 space-y-4 md:space-y-6",children:[Oe,$e]}),e[294]=Oe,e[295]=$e,e[296]=Ve):Ve=e[296];let es;e[297]===Symbol.for("react.memo_cache_sentinel")?(es=t.jsxs(is,{children:[t.jsxs(os,{className:"flex items-center gap-2 text-lg md:text-xl",children:[t.jsx(gt,{className:"h-4 w-4 md:h-5 md:w-5"}),"Live Preview"]}),t.jsx(cs,{className:"text-xs md:text-sm",children:"See your card design in real-time"})]}),e[297]=es):es=e[297];const Ts=s.backgroundImage?`url(${s.backgroundImage})`:"none";let We;e[298]!==s.backgroundColor||e[299]!==Ts?(We={backgroundColor:s.backgroundColor,backgroundImage:Ts,backgroundSize:"cover",backgroundPosition:"center"},e[298]=s.backgroundColor,e[299]=Ts,e[300]=We):We=e[300];const As=s.backgroundImage?"rgba(0,0,0,0.2)":"transparent";let qe;e[301]!==As?(qe={backgroundColor:As},e[301]=As,e[302]=qe):qe=e[302];let Ge;e[303]!==s.logo?(Ge=s.logo&&t.jsx("div",{className:"flex justify-center mb-3 md:mb-4",children:t.jsx("img",{src:s.logo,alt:"Logo",className:"h-14 w-14 sm:h-16 sm:w-16 md:h-20 md:w-20 object-cover rounded-full border-4 border-white shadow-xl"})}),e[303]=s.logo,e[304]=Ge):Ge=e[304];let Ze;e[305]!==s.textColor?(Ze={color:s.textColor},e[305]=s.textColor,e[306]=Ze):Ze=e[306];let Je;e[307]!==s.heading||e[308]!==Ze?(Je=t.jsx("h3",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-center mb-2 tracking-wider",style:Ze,children:s.heading}),e[307]=s.heading,e[308]=Ze,e[309]=Je):Je=e[309];let Ke;e[310]!==s.textColor?(Ke={color:s.textColor},e[310]=s.textColor,e[311]=Ke):Ke=e[311];let Qe;e[312]!==s.subheading||e[313]!==Ke?(Qe=t.jsx("p",{className:"text-center text-xs sm:text-sm mb-4 md:mb-8 opacity-90",style:Ke,children:s.subheading}),e[312]=s.subheading,e[313]=Ke,e[314]=Qe):Qe=e[314];let Xe;e[315]!==s.stampsNeeded?(Xe=Array.from({length:s.stampsNeeded}),e[315]=s.stampsNeeded,e[316]=Xe):Xe=e[316];let et;e[317]!==Ls||e[318]!==s.stampColor||e[319]!==s.stampShape||e[320]!==s.stampsNeeded||e[321]!==s.textColor||e[322]!==Is||e[323]!==Xe?(et=t.jsx("div",{className:"grid grid-cols-5 gap-2 md:gap-3 mb-4 md:mb-6",children:Xe.map((r,d)=>{const i=d+1,o=Is(i),g=d<Math.floor(s.stampsNeeded*.7);return t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",children:t.jsx(Ls,{shape:s.stampShape,isFilled:g,isReward:!!o,rewardText:o?.reward,color:o?o.color:s.stampColor,details:o?.details})}),t.jsx("span",{className:"text-[10px] sm:text-xs font-medium",style:{color:s.textColor},children:i})]},d)})}),e[317]=Ls,e[318]=s.stampColor,e[319]=s.stampShape,e[320]=s.stampsNeeded,e[321]=s.textColor,e[322]=Is,e[323]=Xe,e[324]=et):et=e[324];let tt;e[325]!==s.mechanics?(tt=t.jsx("div",{className:"bg-white/95 backdrop-blur rounded-xl p-3 md:p-4 mb-4 md:mb-6 shadow-lg",children:t.jsx("p",{className:"text-[10px] sm:text-xs text-gray-800 text-center leading-relaxed",children:s.mechanics})}),e[325]=s.mechanics,e[326]=tt):tt=e[326];const Ps=s.textColor+"40";let st;e[327]!==Ps?(st={borderColor:Ps},e[327]=Ps,e[328]=st):st=e[328];let lt;e[329]!==s.textColor?(lt={color:s.textColor},e[329]=s.textColor,e[330]=lt):lt=e[330];let at;e[331]!==s.footer||e[332]!==lt?(at=t.jsx("p",{className:"text-center text-[10px] sm:text-xs opacity-90 font-medium",style:lt,children:s.footer}),e[331]=s.footer,e[332]=lt,e[333]=at):at=e[333];let rt;e[334]!==st||e[335]!==at?(rt=t.jsx("div",{className:"border-t pt-3 md:pt-4",style:st,children:at}),e[334]=st,e[335]=at,e[336]=rt):rt=e[336];let mt;e[337]!==qe||e[338]!==Ge||e[339]!==Je||e[340]!==Qe||e[341]!==et||e[342]!==tt||e[343]!==rt?(mt=t.jsxs("div",{className:"p-4 sm:p-6 md:p-8 backdrop-blur-sm",style:qe,children:[Ge,Je,Qe,et,tt,rt]}),e[337]=qe,e[338]=Ge,e[339]=Je,e[340]=Qe,e[341]=et,e[342]=tt,e[343]=rt,e[344]=mt):mt=e[344];let it;e[345]!==We||e[346]!==mt?(it=t.jsx("div",{className:"rounded-2xl shadow-2xl overflow-hidden transform hover:scale-105 transition-transform duration-300",style:We,children:mt}),e[345]=We,e[346]=mt,e[347]=it):it=e[347];let ts;e[348]===Symbol.for("react.memo_cache_sentinel")?(ts=t.jsx(gt,{className:"h-3 w-3 md:h-4 md:w-4 text-purple-600"}),e[348]=ts):ts=e[348];let ot;e[349]!==s.perks.length?(ot=t.jsxs(zs,{className:"mt-4 md:mt-6 bg-gradient-to-r from-blue-50 to-purple-50 border-purple-200",children:[ts,t.jsxs(Us,{className:"text-[10px] sm:text-xs md:text-sm",children:["Preview shows sample progress with ",s.perks.length," reward milestone(s) configured."]})]}),e[349]=s.perks.length,e[350]=ot):ot=e[350];let ct;e[351]!==it||e[352]!==ot?(ct=t.jsx("div",{className:"lg:col-span-2",children:t.jsx("div",{className:"lg:sticky lg:top-8",children:t.jsxs(pt,{className:"overflow-hidden",children:[es,t.jsxs(ht,{className:"p-4 md:p-6",children:[it,ot]})]})})}),e[351]=it,e[352]=ot,e[353]=ct):ct=e[353];let dt;e[354]!==Ve||e[355]!==ct?(dt=t.jsxs("div",{className:"grid lg:grid-cols-5 gap-4 md:gap-6 lg:gap-8 mt-4 md:mt-6 lg:mt-8",children:[Ve,ct]}),e[354]=Ve,e[355]=ct,e[356]=dt):dt=e[356];let ss;e[357]===Symbol.for("react.memo_cache_sentinel")?(ss=t.jsx(gt,{className:"mr-2 h-4 w-4"}),e[357]=ss):ss=e[357];const Ms=x?"Updating...":"Update Template";let nt;e[358]!==x||e[359]!==Ms?(nt=t.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 p-4 bg-white border-t shadow-lg z-50",children:t.jsxs(h,{type:"submit",className:"w-full",size:"lg",disabled:x,children:[ss,Ms]})}),e[358]=x,e[359]=Ms,e[360]=nt):nt=e[360];let ls;e[361]===Symbol.for("react.memo_cache_sentinel")?(ls=t.jsx("div",{className:"md:hidden h-20"}),e[361]=ls):ls=e[361];let as;return e[362]!==Fs||e[363]!==dt||e[364]!==nt?(as=t.jsxs(Js,{children:[kt,St,_t,t.jsxs("form",{onSubmit:Fs,children:[dt,nt,ls]})]}),e[362]=Fs,e[363]=dt,e[364]=nt,e[365]=as):as=e[365],as}function il(ft){if(ft.error){Ys.error(ft.error);return}Ys.success("An error occured while trying to create the loyalty card")}function ol(){Ys.success("Updated Successfully.")}export{Hl as default};
