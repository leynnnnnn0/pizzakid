import{a as Ct,c as Dt,r as xe,u as Bt,j as t,H as Qt,t as Rt}from"./app-BOU3P_LR.js";import{C as bt,a as jt,b as _t,c as yt,d as vt}from"./card-CPoVQSv_.js";import{L as m}from"./label-CX1yqKFL.js";import{I as ge}from"./input-CfWisO-F.js";import{B as f}from"./button-CDRX8UbB.js";import{T as It}from"./textarea-CwXma5W7.js";import{M as Pt}from"./module-heading-VhLLzyxi.js";import{A as Ft}from"./app-layout-DW-HOTs0.js";import{X as kt}from"./x-DHxHf_Ez.js";import{R as Mt}from"./refresh-cw-apN-2kCB.js";/* empty css            */import"./mainLogo-BKBS7OlB.js";import"./index-ChAtn7nX.js";import"./index-DnuHdRDb.js";import"./index-BT-ImmmU.js";import"./index-Y1t9AhUx.js";import"./index-C-1mvtH-.js";import"./index-D65y-cda.js";import"./dropdown-menu-DWmpKjJ8.js";import"./index-D6b3eXot.js";import"./store-B5ydvqqy.js";import"./qr-code-DEEYt2BI.js";import"./ticket-Cdi9_qkk.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Tt=Ct("Download",Ht);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zt=Ct("Save",Ut);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],St=Ct("Upload",At);function hl(Nt){const e=Dt.c(203),{qrCode:d,errors:a}=Nt,[n,Ye]=xe.useState(d?.logo?"/"+d.logo:null),[r,Je]=xe.useState(d?.background_image?"/"+d.background_image:null),[ue,wt]=xe.useState(!1),h=xe.useRef(null),x=xe.useRef(null),Xe=d?.heading||"Taylora",Ke=d?.subheading||"Join our loyalty program by scanning the QR code",We=d?.background_color||"#ffffff",Ze=d?.text_color||"#000000";let pe;e[0]!==Xe||e[1]!==Ke||e[2]!==We||e[3]!==Ze?(pe={heading:Xe,subheading:Ke,backgroundColor:We,textColor:Ze,backgroundImage:null,logo:null},e[0]=Xe,e[1]=Ke,e[2]=We,e[3]=Ze,e[4]=pe):pe=e[4];const{post:et,data:l,setData:o,reset:tt,processing:s}=Bt(pe);let be;e[5]!==o?(be=i=>{const c=i.target.files?.[0];if(c){if(c.size>5242880){alert("Logo file size must be less than 5MB");return}const he=new FileReader;he.onload=pt=>{Ye(pt.target?.result)},he.readAsDataURL(c),o("logo",c)}},e[5]=o,e[6]=be):be=e[6];const lt=be;let je;e[7]!==o?(je=i=>{const c=i.target.files?.[0];if(c){if(c.size>10485760){alert("Background image file size must be less than 10MB");return}const he=new FileReader;he.onload=pt=>{Je(pt.target?.result)},he.readAsDataURL(c),o("backgroundImage",c)}},e[7]=o,e[8]=je):je=e[8];const st=je;let ye;e[9]!==et?(ye=i=>{i.preventDefault(),et("/business/qr-studio/update",{onSuccess:Et,onError:qt})},e[9]=et,e[10]=ye):ye=e[10];const ot=ye;let ve;e[11]===Symbol.for("react.memo_cache_sentinel")?(ve=()=>{wt(!0),window.location.href="/business/qr-studio/download",setTimeout(()=>wt(!1),2e3)},e[11]=ve):ve=e[11];const Lt=ve;let Ce;e[12]!==o?(Ce=()=>{Ye(null),o("logo",null),h.current&&(h.current.value="")},e[12]=o,e[13]=Ce):Ce=e[13];const at=Ce;let Ne;e[14]!==o?(Ne=()=>{Je(null),o("backgroundImage",null),x.current&&(x.current.value="")},e[14]=o,e[15]=Ne):Ne=e[15];const rt=Ne;let we;e[16]!==tt?(we=()=>{tt(),Ye(null),Je(null),h.current&&(h.current.value=""),x.current&&(x.current.value="")},e[16]=tt,e[17]=we):we=e[17];const it=we;let g;e[18]!==r?(g=r&&{backgroundImage:`url(${r})`,backgroundSize:"cover",backgroundPosition:"center"},e[18]=r,e[19]=g):g=e[19];let _e;e[20]!==l.backgroundColor||e[21]!==l.textColor||e[22]!==g?(_e={backgroundColor:l.backgroundColor,color:l.textColor,...g},e[20]=l.backgroundColor,e[21]=l.textColor,e[22]=g,e[23]=_e):_e=e[23];const nt=_e;let ke,Se;e[24]===Symbol.for("react.memo_cache_sentinel")?(ke=t.jsx(Qt,{title:"QR Studio"}),Se=t.jsx(Pt,{title:"QR Studio",description:"Manage your business QR code settings."}),e[24]=ke,e[25]=Se):(ke=e[24],Se=e[25]);let Re;e[26]===Symbol.for("react.memo_cache_sentinel")?(Re=t.jsxs(bt,{children:[t.jsx(jt,{children:"Preview"}),t.jsx(_t,{children:"This is how your QR code menu will look when printed"})]}),e[26]=Re):Re=e[26];let u;e[27]!==r?(u=r&&t.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm"}),e[27]=r,e[28]=u):u=e[28];let p;e[29]!==l.textColor?(p={borderColor:l.textColor},e[29]=l.textColor,e[30]=p):p=e[30];let b;e[31]!==l.textColor?(b={color:l.textColor},e[31]=l.textColor,e[32]=b):b=e[32];let j;e[33]!==l.heading||e[34]!==b?(j=t.jsx("h1",{className:"text-xl font-serif italic mb-2 lg:text-4xl text-center",style:b,children:l.heading}),e[33]=l.heading,e[34]=b,e[35]=j):j=e[35];let y;e[36]!==l.textColor?(y={color:l.textColor},e[36]=l.textColor,e[37]=y):y=e[37];let v;e[38]!==l.subheading||e[39]!==y?(v=t.jsx("p",{className:"text-center text-[10px] md:text-xs mb-4 sm:mb-6 lg:mb-8 whitespace-pre-line px-2",style:y,children:l.subheading}),e[38]=l.subheading,e[39]=y,e[40]=v):v=e[40];let Le;e[41]===Symbol.for("react.memo_cache_sentinel")?(Le=t.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 lg:w-48 lg:h-48 bg-white p-2 mb-4 sm:mb-6 lg:mb-8 shadow-lg",children:t.jsx("div",{className:"text-center w-full h-full bg-gray-300 flex items-center justify-center text-xs text-gray-600",children:"QR Code will show here"})}),e[41]=Le):Le=e[41];let C;e[42]!==l.textColor?(C={borderColor:l.textColor},e[42]=l.textColor,e[43]=C):C=e[43];let N;e[44]!==l.textColor||e[45]!==n?(N=n?t.jsx("img",{src:n,alt:"Logo",className:"max-w-full max-h-full object-contain"}):t.jsxs("div",{className:"text-center font-bold text-xs sm:text-sm",style:{color:l.textColor},children:[t.jsx("div",{children:"YOUR"}),t.jsx("div",{children:"LOGO"})]}),e[44]=l.textColor,e[45]=n,e[46]=N):N=e[46];let w;e[47]!==C||e[48]!==N?(w=t.jsx("div",{className:"p-2 sm:p-3 lg:p-4 w-20 h-20 sm:w-24 sm:h-24 lg:w-32 lg:h-32 flex items-center justify-center",style:C,children:N}),e[47]=C,e[48]=N,e[49]=w):w=e[49];let _;e[50]!==p||e[51]!==j||e[52]!==v||e[53]!==w?(_=t.jsxs("div",{className:"relative h-full flex flex-col items-center justify-center p-4 sm:p-6 lg:p-8 border-4 sm:border-8",style:p,children:[j,v,Le,w]}),e[50]=p,e[51]=j,e[52]=v,e[53]=w,e[54]=_):_=e[54];let k;e[55]!==nt||e[56]!==u||e[57]!==_?(k=t.jsxs("div",{className:"aspect-[8.5/11] border-2 shadow-lg mx-auto w-full max-w-sm lg:max-w-md relative overflow-hidden",style:nt,children:[u,_]}),e[55]=nt,e[56]=u,e[57]=_,e[58]=k):k=e[58];let De;e[59]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsx(Tt,{className:"w-4 h-4 mr-2"}),e[59]=De):De=e[59];const ct=ue?"Generating PDF...":"Download QR Code PDF";let S;e[60]!==ue||e[61]!==ct?(S=t.jsxs(f,{onClick:Lt,className:"w-full",variant:"outline",disabled:ue,children:[De,ct]}),e[60]=ue,e[61]=ct,e[62]=S):S=e[62];let R;e[63]!==k||e[64]!==S?(R=t.jsx("div",{className:"order-first lg:order-last",children:t.jsxs(yt,{className:"lg:sticky lg:top-8",children:[Re,t.jsxs(vt,{className:"space-y-4",children:[k,S]})]})}),e[63]=k,e[64]=S,e[65]=R):R=e[65];let Be;e[66]===Symbol.for("react.memo_cache_sentinel")?(Be=t.jsxs(bt,{children:[t.jsx(jt,{children:"Customize Your QR Code"}),t.jsx(_t,{children:"Personalize your QR code menu to match your brand"})]}),e[66]=Be):Be=e[66];let Qe;e[67]===Symbol.for("react.memo_cache_sentinel")?(Qe=t.jsx(m,{htmlFor:"heading",children:"Heading"}),e[67]=Qe):Qe=e[67];let L;e[68]!==o?(L=i=>o("heading",i.target.value),e[68]=o,e[69]=L):L=e[69];const dt=a?.heading?"border-red-500":"";let D;e[70]!==l.heading||e[71]!==s||e[72]!==L||e[73]!==dt?(D=t.jsx(ge,{id:"heading",value:l.heading,onChange:L,placeholder:"Menu",disabled:s,className:dt}),e[70]=l.heading,e[71]=s,e[72]=L,e[73]=dt,e[74]=D):D=e[74];let B;e[75]!==a?(B=a?.heading&&t.jsx("p",{className:"text-sm text-red-500",children:a.heading}),e[75]=a,e[76]=B):B=e[76];let Q;e[77]!==D||e[78]!==B?(Q=t.jsxs("div",{className:"space-y-2",children:[Qe,D,B]}),e[77]=D,e[78]=B,e[79]=Q):Q=e[79];let Ie;e[80]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx(m,{htmlFor:"subheading",children:"Subheading"}),e[80]=Ie):Ie=e[80];let I;e[81]!==o?(I=i=>o("subheading",i.target.value),e[81]=o,e[82]=I):I=e[82];const mt=a?.subheading?"border-red-500":"";let P;e[83]!==l.subheading||e[84]!==s||e[85]!==I||e[86]!==mt?(P=t.jsx(It,{id:"subheading",value:l.subheading,onChange:I,placeholder:"For a contactless menu, scan the QR code",rows:3,disabled:s,className:mt}),e[83]=l.subheading,e[84]=s,e[85]=I,e[86]=mt,e[87]=P):P=e[87];let F;e[88]!==a?(F=a?.subheading&&t.jsx("p",{className:"text-sm text-red-500",children:a.subheading}),e[88]=a,e[89]=F):F=e[89];let M;e[90]!==P||e[91]!==F?(M=t.jsxs("div",{className:"space-y-2 mt-4",children:[Ie,P,F]}),e[90]=P,e[91]=F,e[92]=M):M=e[92];let Pe;e[93]===Symbol.for("react.memo_cache_sentinel")?(Pe=t.jsx(m,{children:"Background"}),e[93]=Pe):Pe=e[93];let Fe;e[94]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsx(m,{htmlFor:"bg-color",className:"text-sm text-gray-600",children:"Solid Color"}),e[94]=Fe):Fe=e[94];let H;e[95]!==o?(H=i=>o("backgroundColor",i.target.value),e[95]=o,e[96]=H):H=e[96];const ft=!!r||s;let T;e[97]!==l.backgroundColor||e[98]!==H||e[99]!==ft?(T=t.jsx(ge,{id:"bg-color",type:"color",value:l.backgroundColor,onChange:H,className:"w-20 h-10",disabled:ft}),e[97]=l.backgroundColor,e[98]=H,e[99]=ft,e[100]=T):T=e[100];let U;e[101]!==o?(U=i=>o("backgroundColor",i.target.value),e[101]=o,e[102]=U):U=e[102];const ht=!!r||s;let z;e[103]!==l.backgroundColor||e[104]!==U||e[105]!==ht?(z=t.jsx(ge,{value:l.backgroundColor,onChange:U,placeholder:"#ffffff",className:"flex-1",disabled:ht}),e[103]=l.backgroundColor,e[104]=U,e[105]=ht,e[106]=z):z=e[106];let A;e[107]!==T||e[108]!==z?(A=t.jsxs("div",{className:"space-y-2",children:[Fe,t.jsxs("div",{className:"flex gap-2",children:[T,z]})]}),e[107]=T,e[108]=z,e[109]=A):A=e[109];let Me;e[110]===Symbol.for("react.memo_cache_sentinel")?(Me=t.jsx(m,{className:"text-sm text-gray-600",children:"Or Background Image"}),e[110]=Me):Me=e[110];let He;e[111]===Symbol.for("react.memo_cache_sentinel")?(He=()=>x.current?.click(),e[111]=He):He=e[111];let Te;e[112]===Symbol.for("react.memo_cache_sentinel")?(Te=t.jsx(St,{className:"w-4 h-4 mr-2"}),e[112]=Te):Te=e[112];const xt=r?"Change Background":"Upload Background";let q;e[113]!==s||e[114]!==xt?(q=t.jsxs(f,{type:"button",variant:"outline",onClick:He,className:"flex-1",disabled:s,children:[Te,xt]}),e[113]=s,e[114]=xt,e[115]=q):q=e[115];let E;e[116]!==r||e[117]!==s||e[118]!==rt?(E=r&&t.jsx(f,{type:"button",variant:"outline",onClick:rt,disabled:s,children:t.jsx(kt,{className:"w-4 h-4"})}),e[116]=r,e[117]=s,e[118]=rt,e[119]=E):E=e[119];let O;e[120]!==q||e[121]!==E?(O=t.jsxs("div",{className:"flex gap-2",children:[q,E]}),e[120]=q,e[121]=E,e[122]=O):O=e[122];let $;e[123]!==st?($=t.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:st,className:"hidden"}),e[123]=st,e[124]=$):$=e[124];let G;e[125]!==a?(G=a?.background_image&&t.jsx("p",{className:"text-sm text-red-500",children:a.background_image}),e[125]=a,e[126]=G):G=e[126];let V;e[127]!==r?(V=r&&t.jsx("div",{className:"mt-2 p-2 border rounded-lg bg-gray-50",children:t.jsx("img",{src:r,alt:"Background preview",className:"w-full h-32 object-cover rounded"})}),e[127]=r,e[128]=V):V=e[128];let Y;e[129]!==O||e[130]!==$||e[131]!==G||e[132]!==V?(Y=t.jsxs("div",{className:"space-y-2",children:[Me,O,$,G,V]}),e[129]=O,e[130]=$,e[131]=G,e[132]=V,e[133]=Y):Y=e[133];let J;e[134]!==A||e[135]!==Y?(J=t.jsxs("div",{className:"space-y-4 mt-4",children:[Pe,A,Y]}),e[134]=A,e[135]=Y,e[136]=J):J=e[136];let Ue;e[137]===Symbol.for("react.memo_cache_sentinel")?(Ue=t.jsx(m,{htmlFor:"text-color",children:"Text Color"}),e[137]=Ue):Ue=e[137];let X;e[138]!==o?(X=i=>o("textColor",i.target.value),e[138]=o,e[139]=X):X=e[139];let K;e[140]!==l.textColor||e[141]!==s||e[142]!==X?(K=t.jsx(ge,{id:"text-color",type:"color",value:l.textColor,onChange:X,className:"w-20 h-10",disabled:s}),e[140]=l.textColor,e[141]=s,e[142]=X,e[143]=K):K=e[143];let W;e[144]!==o?(W=i=>o("textColor",i.target.value),e[144]=o,e[145]=W):W=e[145];let Z;e[146]!==l.textColor||e[147]!==s||e[148]!==W?(Z=t.jsx(ge,{value:l.textColor,onChange:W,placeholder:"#000000",className:"flex-1",disabled:s}),e[146]=l.textColor,e[147]=s,e[148]=W,e[149]=Z):Z=e[149];let ee;e[150]!==K||e[151]!==Z?(ee=t.jsxs("div",{className:"space-y-2 mt-4",children:[Ue,t.jsxs("div",{className:"flex gap-2",children:[K,Z]})]}),e[150]=K,e[151]=Z,e[152]=ee):ee=e[152];let ze;e[153]===Symbol.for("react.memo_cache_sentinel")?(ze=t.jsx(m,{children:"Logo"}),e[153]=ze):ze=e[153];let Ae;e[154]===Symbol.for("react.memo_cache_sentinel")?(Ae=()=>h.current?.click(),e[154]=Ae):Ae=e[154];let qe;e[155]===Symbol.for("react.memo_cache_sentinel")?(qe=t.jsx(St,{className:"w-4 h-4 mr-2"}),e[155]=qe):qe=e[155];const gt=n?"Change Logo":"Upload Logo";let te;e[156]!==s||e[157]!==gt?(te=t.jsxs(f,{type:"button",variant:"outline",onClick:Ae,className:"flex-1",disabled:s,children:[qe,gt]}),e[156]=s,e[157]=gt,e[158]=te):te=e[158];let le;e[159]!==n||e[160]!==s||e[161]!==at?(le=n&&t.jsx(f,{type:"button",variant:"outline",onClick:at,disabled:s,children:t.jsx(kt,{className:"w-4 h-4"})}),e[159]=n,e[160]=s,e[161]=at,e[162]=le):le=e[162];let se;e[163]!==te||e[164]!==le?(se=t.jsxs("div",{className:"flex gap-2",children:[te,le]}),e[163]=te,e[164]=le,e[165]=se):se=e[165];let oe;e[166]!==lt?(oe=t.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:lt,className:"hidden"}),e[166]=lt,e[167]=oe):oe=e[167];let ae;e[168]!==a?(ae=a?.logo&&t.jsx("p",{className:"text-sm text-red-500",children:a.logo}),e[168]=a,e[169]=ae):ae=e[169];let re;e[170]!==n?(re=n&&t.jsx("div",{className:"mt-2 p-4 border rounded-lg bg-gray-50",children:t.jsx("img",{src:n,alt:"Logo preview",className:"w-24 h-24 object-contain mx-auto"})}),e[170]=n,e[171]=re):re=e[171];let ie;e[172]!==se||e[173]!==oe||e[174]!==ae||e[175]!==re?(ie=t.jsxs("div",{className:"space-y-2 mt-4",children:[ze,se,oe,ae,re]}),e[172]=se,e[173]=oe,e[174]=ae,e[175]=re,e[176]=ie):ie=e[176];let Ee;e[177]===Symbol.for("react.memo_cache_sentinel")?(Ee=t.jsx(zt,{className:"w-4 h-4 mr-2"}),e[177]=Ee):Ee=e[177];const ut=s?"Saving...":"Save Settings";let ne;e[178]!==s||e[179]!==ut?(ne=t.jsxs(f,{type:"submit",className:"flex-1",disabled:s,children:[Ee,ut]}),e[178]=s,e[179]=ut,e[180]=ne):ne=e[180];let Oe;e[181]===Symbol.for("react.memo_cache_sentinel")?(Oe=t.jsx(Mt,{className:"w-4 h-4 mr-2"}),e[181]=Oe):Oe=e[181];let ce;e[182]!==s||e[183]!==it?(ce=t.jsxs(f,{type:"button",variant:"outline",onClick:it,disabled:s,className:"sm:w-auto",children:[Oe,"Reset"]}),e[182]=s,e[183]=it,e[184]=ce):ce=e[184];let de;e[185]!==ne||e[186]!==ce?(de=t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-4",children:[ne,ce]}),e[185]=ne,e[186]=ce,e[187]=de):de=e[187];let me;e[188]!==ot||e[189]!==Q||e[190]!==M||e[191]!==J||e[192]!==ee||e[193]!==ie||e[194]!==de?(me=t.jsxs(yt,{children:[Be,t.jsx(vt,{className:"space-y-6",children:t.jsxs("form",{onSubmit:ot,children:[Q,M,J,ee,ie,de]})})]}),e[188]=ot,e[189]=Q,e[190]=M,e[191]=J,e[192]=ee,e[193]=ie,e[194]=de,e[195]=me):me=e[195];let $e;e[196]===Symbol.for("react.memo_cache_sentinel")?($e=t.jsx(bt,{children:t.jsx(jt,{children:"Printing Tips"})}),e[196]=$e):$e=e[196];let Ge;e[197]===Symbol.for("react.memo_cache_sentinel")?(Ge=t.jsxs(yt,{children:[$e,t.jsxs(vt,{className:"space-y-2 text-sm text-gray-600",children:[t.jsx("p",{children:'• High-resolution PDF will be generated (8.5" x 11")'}),t.jsx("p",{children:"• QR code will link to your business loyalty page"}),t.jsx("p",{children:'• Print on standard 8.5" x 11" paper or cardstock'}),t.jsx("p",{children:"• Test the QR code after printing to ensure it scans properly"}),t.jsx("p",{children:"• Consider laminating for durability in high-traffic areas"})]})]}),e[197]=Ge):Ge=e[197];let fe;e[198]!==me?(fe=t.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[me,Ge]}),e[198]=me,e[199]=fe):fe=e[199];let Ve;return e[200]!==R||e[201]!==fe?(Ve=t.jsxs(Ft,{children:[ke,Se,t.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8",children:[R,fe]})})]}),e[200]=R,e[201]=fe,e[202]=Ve):Ve=e[202],Ve}function qt(Nt){Rt.error("An error occured while trying to generate.")}function Et(){Rt.success("QR Code settings saved successfully!")}export{hl as default};
